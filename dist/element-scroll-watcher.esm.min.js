var t,e;function i(t,e){return{x:/left|right|center/g.test(t)?t:parseInt(t,10),y:/top|bottom|middle/g.test(e)?e:parseInt(e,10)}}(t=window.document).getElementById("livereloadscript")||((e=t.createElement("script")).async=1,e.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e));class s{constructor(t,e){var s;this.id=(s=s||7,Math.random().toString(35).substr(2,s)),this.element=t,this.element.dataset.eswId=this.id,this.datumPointX=t.dataset.eswCheckX?i(t.dataset.eswCheckX,0).x:e.checkX,this.datumPointY=t.dataset.eswCheckY?i(0,t.dataset.eswCheckY).y:e.checkY,this.activeTimer=t.dataset.eswDelay?parseInt(t.dataset.eswDelay,10):e.option.activeDelay,this._isIntersecting=!1,this.timer=null,this.activeFunction=e.option.active,this.deActiveFunction=e.option.deActive,this.directFunction=e.option.direct}set isIntersecting(t){t!==this._isIntersecting&&null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null),t||this.deActiveFunction&&this.deActiveFunction(this.element),this._isIntersecting=t}get percentY(){const{element:t,datumPointY:e}=this,i=t.getBoundingClientRect(),s=(()=>{if("string"!=typeof e)return e;switch(e){case"top":return 0;case"bottom":return i.height;default:return i.height/2}})(),n=window.innerHeight;return(n-(i.y+s))/n*100}get percentX(){const{element:t,datumPointX:e}=this,i=t.getBoundingClientRect(),s=(()=>{if("string"!=typeof e)return e;switch(e){case"left":return 0;case"right":return i.width;default:return i.width/2}})(),n=window.innerWidth;return(n-(i.x+s))/n*100}direct(){this._isIntersecting&&this.directFunction&&this.directFunction(this.element)}active(){const{activeTimer:t}=this;null===this.timer&&(this.timer=window.setTimeout((()=>{this._isIntersecting&&this.activeFunction&&this.activeFunction(this.element)}),t),this.direct())}deActive(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.deActiveFunction&&this.deActiveFunction(this.element)}}function n(t){return"string"==typeof t?Array.from(document.querySelectorAll(t)):t.length?Array.from(t):t?[t]:void 0}const c={root:null,activePercentY:60,deActivePercentY:90,activePercentX:0,deActivePercentX:100,activeDelay:1e3,threshold:.1,direct:null,active:null,deActive:null,scroll:null,init:!0,checkY:"top",checkX:"left"};export default class{constructor(t,e={}){const s=Object.assign({},c,e);s.root=null===s.root?window:s.root;const o=n(t),r=i(s.checkX,s.checkY),h=r.y,d=r.x,l=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.target;if(this.getEswObj(e).esw.isIntersecting=t.isIntersecting,t.isIntersecting)this.checkItems.push(e);else{const t=this.checkItems.indexOf(e);t>=0&&this.checkItems.splice(t,1)}}))}));Object.assign(this,{option:s,items:o,io:l,checkItems:[],checkY:h,checkX:d,eswObject:{},isInit:!1,isDisable:!1,boundMot:null}),s.init&&this.init()}getEswObj(t){const e=t.dataset.eswId;return{element:t,id:e,esw:this.eswObject[e]}}mot(){if(this.isDisable)return!1;const{checkItems:t,option:e}=this;t.forEach((t=>{const i=this.getEswObj(t),s=i.esw.percentY,n=i.esw.percentX,c=i.esw._isIntersecting,o=e.activePercentY<s,r=e.deActivePercentY<s,h=e.activePercentX<n,d=e.deActivePercentX<n;o&&h?r||d?i.esw.deActive():i.esw.active():i.esw.deActive();const l={x:n,y:s};e.scroll&&e.scroll(t,l,c)}))}init(){const{items:t,io:e,option:i,mot:n}=this;this.boundMot=n.bind(this),this.isInit||i.root.addEventListener("scroll",this.boundMot,!1),t.forEach((t=>{if(!t.dataset.eswInit){const n=new s(t,this);this.eswObject[n.id]=n,e.observe(t,i.threshold),t.dataset.eswInit="init"}})),this.isInit=!0,window.addEventListener("load",(()=>{this.mot()})),this.mot()}update(t){const e=n(t);this.items=this.items.concat(e),this.init()}disable(){this.isDisable=!0}enable(){this.isDisable=!1}destroy(){const{items:t,io:e,option:i}=this;i.root.removeEventListener("scroll",this.boundMot,!1),t.forEach((t=>{e.unobserve(t),delete t.dataset.eswId,delete t.dataset.eswInit})),delete this.boundMot,delete this.io,delete this.items,delete this.checkItems,delete this.checkY,delete this.checkX,delete this.eswObject,delete this.isInit,delete this.isDisable,delete this.option}}
//# sourceMappingURL=element-scroll-watcher.esm.min.js.map
